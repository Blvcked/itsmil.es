// Underlink
a.is-decorated {
	text-decoration: none !important;
	position: relative;

	&::before,
	&::after {
		content: "";
		position: absolute;
		bottom: 0;
		left: 0;
		height: 0.05em;
		width: 100%;
		transform: scaleX(0);
		transform-origin: left center;
		background-color: currentColor;
		transition: transform 500ms var(--easeOut);
	}

	&::after {
		transform: scaleX(1);
		transition-delay: 200ms;
		transform-origin: right center;
	}

	&:hover {
		&::before {
			transform: scaleX(1);
			transition-delay: 200ms;
		}

		&::after {
			transform: scaleX(0);
			transition-delay: 0ms;
		}
	}
}

// Clonelink
.clonelink {
	display: inline-flex;
	width: max-content;

	position: relative;
	overflow: hidden;

	&::after,
	&__label {
		display: flex;
		transition: transform 500ms var(--easeOut);
		// letter-spacing 500ms var(--easeOut);
	}

	&::after {
		content: attr(alt);
		position: absolute;
		top: 0;
		transform: translateY(100%);
	}

	&:hover {
		&::after {
			transform: unset;
			// letter-spacing: -0.02em;
		}

		.clonelink__label {
			transform: translateY(-100%);
			// letter-spacing: 0.02em;
		}
	}
}

// Strikewrap
.strikewrap {
	display: flex;
	align-items: center;
	gap: 0.5em;

	&::before,
	&::after {
		content: "";
		flex: 1 1 auto;
		border-bottom-width: 1px;
		border-bottom-style: solid;
		border-bottom-color: currentColor;
	}

	&--start::after {
		content: unset;
	}
	&--end::before {
		content: unset;
	}
}

// Marquee
.marquee {
	&__track {
		white-space: nowrap;
		overflow: hidden;
	}

	&__text {
		&::before {
			content: "\00A0"; // &nbsp;
		}
		&::after {
			content: "\2014"; // &mdash;
		}
	}
}

// HZ Scroll
.hz-scroll {
	--section-height: 100vh;

	&--portrait {
		--item-height: 66vh;
		--item-width: 30vmax;
	}

	&--landscape {
		--item-height: 60vh;
		--item-width: 60vmax;
	}

	height: var(--section-height);
	display: flex;
	align-items: center;
	gap: 1.6vmax;

	&__item {
		height: var(--item-height);
		min-width: var(--item-width);
	}

	&__annotation {
		position: absolute;
		top: calc((var(--section-height) - var(--item-height)) / 2);
		right: 100%;
		min-width: 230px;
	}
}

// Reveal
.reveal__container {
	overflow: hidden;
}

// Decoration Grid
#siteGrid {
	position: fixed;
	z-index: var(--layer--2);
	pointer-events: none;
	height: 100%;
	width: 100%;

	// background-image: linear-gradient(
	// 		rgb(var(--grid-color)) 1px,
	// 		transparent 1px
	// 	),
	// 	linear-gradient(90deg, rgb(var(--grid-color)) 1px, transparent 1px);
	// background-size: 20vw 50vh;
	// background-position: -0.5px -0.5px, -0.5px -0.5px;

	// mix-blend-mode: soft-light;
	mix-blend-mode: overlay;
	// backdrop-filter: saturate(115%);

	&::after {
		content: "";
		position: absolute;
		height: 100%;
		width: 100%;
		background-color: rgba(#000, 0.5);
	}
}

// Decoration Noise
#siteNoise {
	position: fixed;
	z-index: var(--layer--1);
	pointer-events: none;

	top: -10rem;
	left: -10rem;
	height: calc(100% + 20rem);
	width: calc(100% + 20rem);

	background-image: url(https://itsmil.es/media/noise.png);
	opacity: 0.9;
	animation: noise 1000ms steps(2) infinite;
}
@keyframes noise {
	0% {
		transform: translate3d(0, 9rem, 0);
	}
	10% {
		transform: translate3d(-1rem, -4rem, 0);
	}
	20% {
		transform: translate3d(-8rem, 2rem, 0);
	}
	30% {
		transform: translate3d(9rem, -9rem, 0);
	}
	40% {
		transform: translate3d(-2rem, 7rem, 0);
	}
	50% {
		transform: translate3d(-9rem, -4rem, 0);
	}
	60% {
		transform: translate3d(2rem, 6rem, 0);
	}
	70% {
		transform: translate3d(7rem, -8rem, 0);
	}
	80% {
		transform: translate3d(-9rem, 1rem, 0);
	}
	90% {
		transform: translate3d(6rem, -5rem, 0);
	}
	to {
		transform: translate3d(-7rem, 0, 0);
	}
}

.map {
	height: clamp(400px, 50vh, 600px);
}

.services {
	display: grid;
	gap: 0.5rem;

	@include media-breakpoint-up(xl) {
		grid-template-columns: repeat(2, 1fr);
		gap: 0 4rem;
	}

	@include media-breakpoint-up(xxl) {
		gap: 0 12rem;
	}

	&__item {
		line-height: 1.6;
	}
}

// Parallax Media
.parallax {
	&__wrapper {
		overflow: hidden;
		// border: 5px solid red;
	}
	&__item {
		scale: 115%;
	}
}

.has-shadow {
	box-shadow: 0 0 40px rgb(0 0 0 / 5%);
	background-color: #fff;
}
img.has-shadow {
	padding: 0.5rem;
}

.has-gradient {
	background: linear-gradient(
		180deg,
		rgb(var(--bg-color)) 0%,
		rgb(var(--bg-color)) 65%,
		rgb(230, 230, 230) 100%
	);
}

.has-border {
	--border-padding: 0.5rem;
	--border-color: #e9e9e9;

	position: relative;

	&::before {
		content: "";
		position: absolute;
		pointer-events: none;

		top: var(--border-padding);
		left: var(--border-padding);

		height: calc(100% - (var(--border-padding) * 2));
		width: calc(100% - (var(--border-padding) * 2));

		border: 1px solid var(--border-color);
	}
}

.main-gallery {
	@include media-breakpoint-down(lg) {
		> :nth-child(n + 3) {
			display: none;
		}
	}

	@include media-breakpoint-up(lg) {
		> :nth-child(n + 13) {
			display: none;
		}
	}
}
